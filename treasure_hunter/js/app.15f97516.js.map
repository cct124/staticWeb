{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/index.vue?f0e8","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/views/index.vue?28e9","webpack:///./src/components/Game.vue?73ba","webpack:///./src/scripts/adaptation.ts","webpack:///./src/utils/index.ts","webpack:///./src/scripts/game.ts","webpack:///./src/config/game.ts","webpack:///./src/components/Game.vue","webpack:///./src/components/Game.vue?ea88","webpack:///./src/views/index.vue","webpack:///./src/views/index.vue?35d6","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?b9f4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","script","__exports__","render","_hoisted_1","class","_hoisted_2","ref","_hoisted_3","_ctx","_cache","$props","$setup","$data","$options","_component_GameComponents","container","target","this","cr","width","height","tr","trw","trh","genArr","start","end","Array","from","keys","randomNum","maxNum","minNum","decimalNum","max","min","arguments","Math","floor","random","parseFloat","toFixed","Contain","AssetsConfig","cfg","adap","gameScene","gameUIScene","gameMessage","monster","list","spacing","xOffset","monsterNum","speed","direction","attackPower","attackInterval","healthBar","grapBar","timeline","messages","full","undefined","failText","victoryText","player","offsetX","offsetY","health","curHealth","beingAttacked","die","treasure","hit","wallThickness","joystickStart","victory","gameFail","app","view","assets","resource","spriteNames","contain","mainTextures","main","textures","dungeon","door","id","sprite","position","set","stage","addChild","createMonster","blob","createHealthBar","createMessage","createPlayer","explorer","ticker","add","delta","vy","x","y","move","innerBar","beginFill","drawRect","endFill","pivot","text","style","fontFamily","fontSize","fill","visible","anchor","forEach","blobHitsWall","top","bottom","hitTestRectangle","hr","shakeHealthBar","setTimeout","gsap","to","rotation","PI","duration","repeat","yoyo","onComplete","hitsWall","right","left","checkTreasure","checkDoor","monsterMove","playerMove","offsetWidth","offsetHeight","centerX","centerY","halfWidth","halfHeight","r1","r2","vx","combinedHalfWidths","combinedHalfHeights","abs","GAME","path","treasureHunter","backgroundColor","$refs","game","loader","Game","resources","adaptation","transform","Promise","resolve","reject","iter","load","loaderAssetsProgress","error","console","log","control","zone","color","on","evt","joystickMove","cos","angle","radian","sin","setPlayerOffset","loaderAssets","then","init","initNipplejs","components","GameComponents","routes","component","router","history","state","mutations","actions","App","use","store","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,2ECvJT,W,6NCCE,eAAe,G,mCCAjB,MAAMyC,EAAS,GAKTC,EAA2B,IAAgBD,EAAQ,CAAC,CAAC,SAASE,KAErD,Q,YCLTC,EAAa,CAAEC,MAAO,0BACtBC,EAAa,CACjBD,MAAO,6BACPE,IAAK,aAEDC,EAAa,CACjBH,MAAO,mBACPE,IAAK,WAGD,SAAU,EAAOE,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMC,EAA4B,eAAkB,kBAEpD,OAAQ,iBAAc,eAAoB,MAAOX,EAAY,CAC3D,eAAoB,MAAOE,EAAY,CACrC,eAAaS,EAA2B,CAAER,IAAK,QAAU,KAAM,MAC9D,KACH,eAAoB,MAAOC,EAAY,KAAM,O,8GClB3C,EAAa,CACjBH,MAAO,OACPE,IAAK,QAGD,SAAU,EAAOE,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQ,iBAAc,eAAoB,SAAU,EAAY,KAAM,K,kDCA3D,EAAb,gBAiCE,WAAYE,EAA8BC,GAAyB,uBACjEC,KAAKF,UAAYA,EACjBE,KAAKD,OAASA,EACdC,KAAKC,GAAKD,KAAKF,UAAUI,MAAQF,KAAKF,UAAUK,OAChDH,KAAKI,GAAKJ,KAAKD,OAAOG,MAAQF,KAAKD,OAAOI,OAC1CH,KAAKK,IAAML,KAAKF,UAAUI,MAAQF,KAAKD,OAAOG,MAC9CF,KAAKM,IAAMN,KAAKF,UAAUK,OAASH,KAAKD,OAAOI,U,kDCpC7C,SAAUI,EAAOC,EAAeC,GACpC,OAAOC,MAAMC,KAAK,IAAID,MAAMD,EAAM,GAAGG,QAAQ9B,MAAM0B,GAU/C,SAAUK,EACdC,EACAC,EACAC,GAEA,IAAIC,EAAM,EACRC,EAAM,EAIR,OAHAH,GAAUD,GACJI,EAAMH,EAAUE,EAAMH,IACtBI,EAAMJ,EAAUG,EAAMF,GACpBI,UAAUzF,QAChB,KAAK,EACH,OAAO0F,KAAKC,MAAMD,KAAKE,UAAYL,EAAM,IAC3C,KAAK,EACH,OAAOG,KAAKC,MAAMD,KAAKE,UAAYL,EAAMC,EAAM,GAAKA,GACtD,KAAK,EACH,OAAOK,YACJH,KAAKE,UAAYL,EAAMC,GAAOA,GAAKM,QAAQR,IAEhD,QACE,OAAOI,KAAKE,U,ICuhBNG,EClhBAC,E,YDyCC,EAAb,WA+GE,WAAYrC,EAAwBsC,GAAe,kCA7GnD,KAAAC,KAA0B,KAoB1B,KAAAC,UAAY,IAAI,OAIhB,KAAAC,YAAc,IAAI,OAKlB,KAAAC,YAAc,IAAI,OAalB,KAAAC,QAAuB,CACrBC,KAAM,GACNC,QAAS,GACTC,QAAS,IACTC,WAAY,EACZC,MAAO,EACPC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,eAAgB,KAMlB,KAAAC,UAAuB,CACrB3C,UAAW,IAAI,OACf4C,QAAS,IAAI,OACbC,SAAU,MAMZ,KAAAC,SAAoB,CAClBC,UAAMC,EACNC,SAAU,aACVC,YAAa,YAGf,KAAAC,OAAqB,CACnBlD,YAAQ+C,EACRI,QAAS,EACTC,QAAS,EACTd,MAAO,EACPe,OAAQ,IACRC,UAAW,IACXC,eAAe,EACfC,KAAK,GAUP,KAAAC,SAAyB,CACvBzD,YAAQ+C,EACRW,KAAK,GAMP,KAAAC,cAAgB,GAOhB,KAAAC,eAAgB,EAEhB,KAAAC,SAAU,EACV,KAAAC,UAAW,EAGT7D,KAAKX,IAAMA,EACXW,KAAK8D,IAAM,IAAI,OAAJ,iCAA0BnC,GAA1B,IAA+BoC,KAAM1E,KAChDW,KAAKgE,OAASrC,EAAIqC,OAClBhE,KAAKiE,SAAWtC,EAAIsC,SACpBjE,KAAKkE,YAAcvC,EAAIuC,YACvBlE,KAAKgC,QAAQI,WAAaT,EAAIS,WAC9BpC,KAAKmE,QAAUxC,EAAIwC,QAEnBnE,KAAKoE,aAAepE,KAAKiE,SAASjE,KAAKgE,OAAOK,KAAK/G,MAAMgH,SAIzDtE,KAAKuE,QAAU,IAAI,OAAYvE,KAAKoE,aAAapE,KAAKkE,YAAYK,UAClEvE,KAAKwE,KAAO,IAAI,EAAK,CACnBF,SAAUtE,KAAKoE,aAAapE,KAAKkE,YAAYM,MAC7CC,GAAI,IAENzE,KAAKwE,KAAKE,OAAOC,SAASC,IAAI5E,KAAK0D,cAAe,GAElD1D,KAAKwD,SAASzD,OAAS,IAAI,EAAS,CAClCuE,SAAUtE,KAAKoE,aAAapE,KAAKkE,YAAYV,UAC7CiB,GAAI,IAGNzE,KAAKwD,SAASzD,OAAO2E,OAAOC,SAASC,IACnC5E,KAAK8D,IAAIC,KAAK7D,MACZF,KAAKwD,SAASzD,OAAO2E,OAAOxE,MAC5BF,KAAK0D,cACP1D,KAAK8D,IAAIC,KAAK5D,OAAS,EAAIH,KAAKwD,SAASzD,OAAO2E,OAAOvE,OAAS,GAGlEH,KAAK8D,IAAIe,MAAMC,SAAS9E,KAAK6B,WAC7B7B,KAAK8D,IAAIe,MAAMC,SAAS9E,KAAK8B,aAC7B9B,KAAK6B,UAAUiD,SAAS9E,KAAKuE,SAC7BvE,KAAK6B,UAAUiD,SAAS9E,KAAKwE,KAAKE,QAClC1E,KAAK6B,UAAUiD,SAAS9E,KAAKwD,SAASzD,OAAO2E,QAC7C1E,KAAK8B,YAAYgD,SAAS9E,KAAK+B,aAE/B/B,KAAK+E,cAAc/E,KAAKoE,aAAapE,KAAKkE,YAAYc,OACtDhF,KAAKiF,kBACLjF,KAAKkF,cAAclF,KAAK4C,SAASI,aACjChD,KAAKmF,aAAanF,KAAKoE,aAAapE,KAAKkE,YAAYkB,WAErDpF,KAAK8D,IAAIuB,OAAOC,KAAI,SAACC,GAAD,OAAW,EAAKF,OAAOE,MA3J/C,oDAmKU,SAAcjB,GAAqC,uBACzC/D,EAAO,EAAGP,KAAKgC,QAAQI,aADkB,IACzD,2BAAoD,KAAzC5G,EAAyC,QAC5CgK,EAAK3E,EAAU,EAAG,GAClBmB,EAAU,IAAI,EAAQ,CAC1BsC,WACAG,GAAIjJ,EACJgK,GAAIxF,KAAKgC,QAAQK,MAAQrC,KAAKgC,QAAQM,WAAakD,GAAM,EAAI,KAEzDC,EACJzF,KAAKgC,QAAQE,QAAU1G,EAAIwE,KAAKgC,QAAQG,QAAUnC,KAAK0D,cACnDgC,EAAI7E,EACRb,KAAK0D,cACL1D,KAAK8D,IAAIe,MAAM1E,OAAS6B,EAAQ0C,OAAOvE,OAASH,KAAK0D,eAEvD1B,EAAQ2D,KAAKF,EAAGC,GAChB1F,KAAKgC,QAAQC,KAAKjG,KAAKgG,GACvBhC,KAAK6B,UAAUiD,SAAS9C,EAAQ0C,SAhBuB,8BAkBzD,OAAO1E,KAAKgC,UArLhB,6BA2LU,WACNhC,KAAKyC,UAAU3C,UAAU6E,SAASC,IAAI5E,KAAK8D,IAAIe,MAAM3E,MAAQ,IAAK,IAClEF,KAAK8B,YAAYgD,SAAS9E,KAAKyC,UAAU3C,WAKzC,IAAM8F,EAAW,IAAI,OAmBrB,OAlBAA,EAASC,UAAU,GACnBD,EAASE,SAAS,EAAG,EAAG,IAAK,GAC7BF,EAASG,UACT/F,KAAKyC,UAAU3C,UAAUgF,SAASc,GAKlC5F,KAAKyC,UAAUC,QAAU,IAAI,OAC7B1C,KAAKyC,UAAUC,QAAQmD,UAAU,UACjC7F,KAAKyC,UAAUC,QAAQoD,SAAS,EAAG,EAAG,IAAK,GAC3C9F,KAAKyC,UAAUC,QAAQqD,UACvB/F,KAAKyC,UAAU3C,UAAUgF,SAAS9E,KAAKyC,UAAUC,SACjD1C,KAAKyC,UAAU3C,UAAUkG,MAAMpB,IAC7B5E,KAAKyC,UAAU3C,UAAUI,MAAQ,EACjCF,KAAKyC,UAAU3C,UAAUK,OAAS,GAG7BH,KAAKyC,YArNhB,2BA2NU,SAAcwD,GACpB,GAAKjG,KAAK4C,SAASC,KAUjB7C,KAAK4C,SAASC,KAAKoD,KAAOA,MAVH,CACvB,IAAMC,EAAQ,IAAI,OAAe,CAC/BC,WAAY,SACZC,SAAU,GACVC,KAAM,UAERrG,KAAK4C,SAASC,KAAO,IAAI,OAAUoD,EAAMC,GACzClG,KAAK4C,SAASC,KAAKyD,SAAU,EAC7BtG,KAAK+B,YAAY+C,SAAS9E,KAAK4C,SAASC,MAK1C7C,KAAK4C,SAASC,KAAK0D,OAAO3B,IAAI,IAC9B5E,KAAK4C,SAASC,KAAK4C,EAAIzF,KAAK8D,IAAIe,MAAM3E,MAAQ,EAC9CF,KAAK4C,SAASC,KAAK6C,EAAI1F,KAAK8D,IAAIe,MAAM1E,OAAS,IA3OnD,0BAkPU,SAAamE,GACnBtE,KAAKiD,OAAOlD,OAAS,IAAI,EAAO,CAAEuE,WAAUG,GAAI,IAChDzE,KAAKiD,OAAOlD,OAAO2E,OAAOC,SAASC,IACjC5E,KAAK0D,cACL1D,KAAK8D,IAAIC,KAAK5D,OAAS,EAAIH,KAAKiD,OAAOlD,OAAO2E,OAAOvE,OAAS,GAEhEH,KAAK6B,UAAUiD,SAAS9E,KAAKiD,OAAOlD,OAAO2E,UAxP/C,yBA8PU,WAAW,WACjB1E,KAAKgC,QAAQC,KAAKuE,SAAQ,SAACxE,GACzBA,EAAQ0C,OAAOgB,GAAK1D,EAAQwD,GAC5B,IAAMiB,EAAetC,EAAQnC,EAAQ0C,OAAQ,EAAKP,SASlD,GAPIsC,IAAiBhF,EAAQiF,KAAOD,IAAiBhF,EAAQkF,SAC3D3E,EAAQwD,KAAO,GAOf,EAAKvC,OAAOlD,QACZ6G,EAAiB,EAAK3D,OAAOlD,OAAQiC,KACpC,EAAKiB,OAAOK,gBACZ,EAAKL,OAAOM,IACb,CACA,EAAKN,OAAOK,eAAgB,EAC5B,EAAKL,OAAOI,WAAaxC,EACvB,EAAKmB,QAAQO,YAAY,GACzB,EAAKP,QAAQO,YAAY,IAE3B,IAAMsE,EAAK,EAAK5D,OAAOI,UAAY,EAAKJ,OAAOG,OAC/C,EAAKX,UAAUC,QAAQxC,MAAQ,EAAKuC,UAAUC,QAAQxC,MAAQ2G,EAC9D,EAAKC,eAAe,EAAKrE,UAAU3C,WAC/B+G,EAAK,IACP,EAAKpE,UAAUC,QAAQxC,MAAQ,EAC3B,EAAK0C,SAASC,OAChB,EAAKqC,cAAc,EAAKtC,SAASG,UACjC,EAAKH,SAASC,KAAKyD,SAAU,EAC7B,EAAKrD,OAAOlD,OAAO2E,OAAO4B,SAAU,EACpC,EAAKrD,OAAOM,KAAM,EAClB,EAAKM,UAAW,IAIpBkD,YAAW,WACT,EAAK9D,OAAOK,eAAgB,IAC3B,EAAKtB,QAAQQ,sBArSxB,4BA0SU,SAAeC,GAAyB,WACzCzC,KAAKyC,UAAUE,WAClB3C,KAAKyC,UAAUE,SAAWqE,EAAA,KAAKrE,WAC/B3C,KAAKyC,UAAUE,SAASsE,GAAGxE,EAAW,CACpCyE,SAAW,GAAK9F,KAAK+F,GAAM,IAC3BC,SAAU,IACVC,OAAQ,EACRC,MAAM,EACNC,WAAY,WACV,EAAK9E,UAAUE,SAAW,WAnTpC,6BAyTE,SACEO,EACAC,GAIA,OAFAnD,KAAKiD,OAAOC,QAAUA,EACtBlD,KAAKiD,OAAOE,QAAUA,EACf,CAAED,QAASlD,KAAKiD,OAAOC,QAASC,QAASnD,KAAKiD,OAAOE,WA/ThE,wBAwUE,SAAWD,EAAiBC,GAC1B,IAAInD,KAAK4D,UAAW5D,KAAK6D,SAAzB,CACA,GAAI7D,KAAKiD,OAAOlD,QAAUC,KAAK2D,cAAe,CAC5C,IAAM8B,EAAIzF,KAAKiD,OAAOlD,OAAO2E,OAAOe,EAAIvC,EAAUlD,KAAKiD,OAAOZ,MACxDqD,EAAI1F,KAAKiD,OAAOlD,OAAO2E,OAAOgB,EAAIvC,EAAUnD,KAAKiD,OAAOZ,MACxDmF,EAAWrD,EAAQnE,KAAKiD,OAAOlD,OAAO2E,OAAQ1E,KAAKmE,SACzD,GACEqD,IAAa/F,EAAQiF,KACrBc,IAAa/F,EAAQgG,OACrBD,IAAa/F,EAAQkF,QACrBa,IAAa/F,EAAQiG,KAErB,OAEF1H,KAAKiD,OAAOlD,OAAO4F,KAAKF,EAAGC,GAC3B1F,KAAK2H,gBACL3H,KAAK4H,YAEP,OAAO5H,KAAKiD,OAAOlD,UA1VvB,2BA6VU,WACN,GAAKC,KAAKiD,OAAOlD,QAAWC,KAAKwD,SAASzD,OAC1C,OAAIC,KAAKwD,SAASC,MAAQzD,KAAKiD,OAAOM,KACpCvD,KAAKwD,SAASzD,OAAO2E,OAAOe,EAAIzF,KAAKiD,OAAOlD,OAAO2E,OAAOe,OAC1DzF,KAAKwD,SAASzD,OAAO2E,OAAOgB,EAAI1F,KAAKiD,OAAOlD,OAAO2E,OAAOgB,SAGxDkB,EAAiB5G,KAAKiD,OAAOlD,OAAQC,KAAKwD,SAASzD,UACrDC,KAAKwD,SAASC,KAAM,MArW1B,uBAwWU,WACDzD,KAAKiD,OAAOlD,QACbC,KAAKwD,SAASC,KAAOmD,EAAiB5G,KAAKiD,OAAOlD,OAAQC,KAAKwE,QACjExE,KAAKkF,cAAclF,KAAK4C,SAASI,aAC7BhD,KAAK4C,SAASC,OAAM7C,KAAK4C,SAASC,KAAKyD,SAAU,GACrDtG,KAAK4D,SAAU,KA7WrB,oBAiXU,SAAO2B,GAEbvF,KAAK6H,cACL7H,KAAK8H,WAAW9H,KAAKiD,OAAOC,QAASlD,KAAKiD,OAAOE,WApXrD,wBA6XE,SAAWrD,GAWT,OAVAE,KAAK4B,KAAO,IAAI,EACd,CACE1B,MAAOJ,EAAUiI,YACjB5H,OAAQL,EAAUkI,cAEpB,CACE9H,MAAOF,KAAKX,IAAI0I,YAChB5H,OAAQH,KAAKX,IAAI2I,eAGdhI,KAAK4B,SAxYhB,KA4Ya,EAAb,WAWE,cAMC,IALC0C,EAKD,EALCA,SACAG,EAID,EAJCA,GAID,uBAVD,KAAAwD,QAAU,EACV,KAAAC,QAAU,EACV,KAAAC,UAAY,EACZ,KAAAC,WAAa,EAQXpI,KAAK0E,OAAS,IAAI,OAAYJ,GAC9BtE,KAAKyE,GAAKA,EAnBd,2CA4BE,SAAKgB,EAAWC,GAGd,OAFA1F,KAAK0E,OAAOe,EAAIA,EAChBzF,KAAK0E,OAAOgB,EAAIA,EACT1F,SA/BX,KAsCa,EAAb,wDAEE,cAQC,MAPCsE,EAOD,EAPCA,SACAG,EAMD,EANCA,GACAe,EAKD,EALCA,GAKD,8BACC,cAAM,CAAElB,WAAUG,OAVpB,EAAAe,GAAK,EAWH,EAAKA,GAAKA,EAFX,EAVH,0BAA6B,GAmBhB,EAAb,wDACE,cAMC,IALClB,EAKD,EALCA,SACAG,EAID,EAJCA,GAID,0CACO,CAAEH,WAAUG,OARtB,0BAA4B,GAYf,EAAb,wDACE,cAMC,IALCH,EAKD,EALCA,SACAG,EAID,EAJCA,GAID,0CACO,CAAEH,WAAUG,OARtB,0BAA8B,GAYjB,EAAb,wDACE,cAMC,IALCH,EAKD,EALCA,SACAG,EAID,EAJCA,GAID,0CACO,CAAEH,WAAUG,OARtB,0BAA0B,GAqCpB,SAAUN,EACdO,EACA5E,GAGA,OAAI4E,EAAOe,EAAI3F,EAAU2F,GACvBf,EAAOe,EAAI3F,EAAU2F,EACdhE,EAAQiG,MAIbhD,EAAOgB,EAAI5F,EAAU4F,GACvBhB,EAAOgB,EAAI5F,EAAU4F,EACdjE,EAAQiF,KAIbhC,EAAOe,EAAIf,EAAOxE,MAAQJ,EAAUI,OACtCwE,EAAOe,EAAI3F,EAAUI,MAAQwE,EAAOxE,MAC7BuB,EAAQgG,OAIb/C,EAAOgB,EAAIhB,EAAOvE,OAASL,EAAUK,QACvCuE,EAAOgB,EAAI5F,EAAUK,OAASuE,EAAOvE,OAC9BsB,EAAQkF,aAFjB,EAMI,SAAUC,EAAiByB,EAAYC,GAE3C,IAAI7E,EAGJA,GAAM,EAGN4E,EAAGJ,QAAUI,EAAG3D,OAAOe,EAAI4C,EAAG3D,OAAOxE,MAAQ,EAC7CmI,EAAGH,QAAUG,EAAG3D,OAAOgB,EAAI2C,EAAG3D,OAAOvE,OAAS,EAC9CmI,EAAGL,QAAUK,EAAG5D,OAAOe,EAAI6C,EAAG5D,OAAOxE,MAAQ,EAC7CoI,EAAGJ,QAAUI,EAAG5D,OAAOgB,EAAI4C,EAAG5D,OAAOvE,OAAS,EAG9CkI,EAAGF,UAAYE,EAAG3D,OAAOxE,MAAQ,EACjCmI,EAAGD,WAAaC,EAAG3D,OAAOvE,OAAS,EACnCmI,EAAGH,UAAYG,EAAG5D,OAAOxE,MAAQ,EACjCoI,EAAGF,WAAaE,EAAG5D,OAAOvE,OAAS,EAGnC,IAAMoI,EAAKF,EAAGJ,QAAUK,EAAGL,QACrBzC,EAAK6C,EAAGH,QAAUI,EAAGJ,QAGrBM,EAAqBH,EAAGF,UAAYG,EAAGH,UACvCM,EAAsBJ,EAAGD,WAAaE,EAAGF,WAkB/C,OAXI3E,EAJArC,KAAKsH,IAAIH,GAAMC,GAEbpH,KAAKsH,IAAIlD,GAAMiD,EAadhF,GAjGT,SAAYhC,GAIV,iBAIA,eAIA,mBAIA,sBAhBF,CAAYA,MAAO,KClhBnB,SAAYC,GAIV,sCACA,2BACA,qBACA,6BACA,6BACA,qBATF,CAAYA,MAAY,KAexB,IAAMiH,EAAmB,CACvB3E,OAAQ,CACNK,KAAM,CACJuE,KAAM,gCACNtL,KAAMoE,EAAamH,iBAGvB3E,YAAa,CACXK,QAAS7C,EAAa6C,QACtBS,KAAMtD,EAAasD,KACnBI,SAAU1D,EAAa0D,SACvB5B,SAAU9B,EAAa8B,SACvBgB,KAAM9C,EAAa8C,MAErBK,MAAO,CACL3E,MAAO,IACPC,OAAQ,IACR2I,gBAAiB,QACjB3E,QAAS,CACPsB,EAAG,GACHC,EAAG,GACHxF,MAAO,IACPC,OAAQ,OAKC,IClFM,EAArB,oKASE,WACE,OAAOH,KAAK+I,MAAMC,OAVtB,kBAgBE,SAAKC,GAQH,OAPAjJ,KAAKkJ,KAAO,IAAI,EAAKlJ,KAAKgJ,KAAd,iCACP,EAAKnE,OADE,IAEVZ,SAAUgF,EAAOE,UACjBnF,OAAQ,EAAKA,OACbE,YAAa,EAAKA,YAClB9B,WAAY,KAEPpC,KAAKkJ,SAxBhB,GAA2C,QAAtB,EAAa,gBADjC,eAAQ,KACY,WCFrB,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,Q,qBCKM,EAArB,yG,0BACU,EAAAlF,OAAS,CAAC,EAAKA,OAAOK,MACtB,EAAA4E,OAAS,IAAI,OAFvB,2CAOE,WACE,OAAOjJ,KAAK+I,MAAMC,OARtB,qBAcE,WACE,OAAOhJ,KAAK+I,MAAMjJ,YAftB,wBAqBU,WACDE,KAAKgJ,KAAKE,OACflJ,KAAKgJ,KAAKE,KAAKE,WAAWpJ,KAAKF,WAE1BE,KAAKgJ,KAAKE,KAAKtH,OAChB5B,KAAKgJ,KAAKE,KAAKtH,KAAK3B,GAAKD,KAAKgJ,KAAKE,KAAKtH,KAAKxB,GAC/CJ,KAAKgJ,KAAKE,KAAK7J,IAAI6G,MAAMmD,UAAzB,gBAA8CrJ,KAAKgJ,KAAKE,KAAKtH,KAAKtB,IAAlE,KAEAN,KAAKgJ,KAAKE,KAAK7J,IAAI6G,MAAMmD,UAAzB,gBAA8CrJ,KAAKgJ,KAAKE,KAAKtH,KAAKvB,IAAlE,SA7BN,0BAiCU,WAAY,WAClB,OAAO,IAAIiJ,SAAqB,SAACC,EAASC,GACxC,IACE,EAAKP,OAAO1B,WAAWjC,IAAIiE,GADzB,uBAEiB,EAAKvF,QAFtB,IAEF,2BAAgC,KAArByF,EAAqB,QAC9B,EAAKR,OAAO3D,IAAImE,EAAKnM,KAAMmM,EAAKb,OAHhC,8BAKF,EAAKK,OAAOS,KAAK,EAAKC,sBACtB,MAAOC,GACPJ,EAAOI,SA1Cf,kCA+CU,SAAqBF,GAC3BG,QAAQC,IAAIJ,KAhDhB,0BAsDU,WAAY,WACZK,EAAU,IAAS3L,OAAO,CAC9B4L,KAAMhK,KAAK+I,MAAMgB,QACjB9L,KAAM,SACN0G,SAAU,CAAE+C,KAAM,MAAOhB,IAAK,OAC9BuD,MAAO,YAETF,EAAQG,GAAG,QAAQ,SAACC,EAAKjP,GACvB,EAAKkP,aAAaD,EAAKjP,MAEzB6O,EAAQG,GAAG,SAAS,WACd,EAAKlB,KAAKE,OAAM,EAAKF,KAAKE,KAAKvF,eAAgB,MAErDoG,EAAQG,GAAG,OAAO,WACZ,EAAKlB,KAAKE,OAAM,EAAKF,KAAKE,KAAKvF,eAAgB,QApEzD,0BAwEU,SACNwG,EACAjP,GAEA,IAAMuK,EAAIrE,KAAKiJ,IAAInP,EAAKoP,MAAMC,QACxB7E,EAAItE,KAAKoJ,IAAItP,EAAKoP,MAAMC,QAC1BvK,KAAKgJ,KAAKE,MAAMlJ,KAAKgJ,KAAKE,KAAKuB,gBAAgBhF,EAAGC,KA9E1D,qBAiFE,WAAO,WACL1F,KAAK0K,eAAeC,MAAK,SAACjB,GACxB,EAAKV,KAAK4B,KAAKlB,GACf,EAAKN,aACL,EAAKyB,sBArFX,GAAmC,QAAd,EAAK,gBALzB,eAAQ,CACPC,WAAY,CACVC,eAAA,MAGiB,W,UCLrB,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,QCNTC,EAAgC,CACpC,CACEpC,KAAM,IACNtL,KAAM,QACN2N,UAAW,IAITC,EAAS,eAAa,CAC1BC,QAAS,iBACTH,WAGa,K,aCdA,mBAAY,CACzBI,MAAO,GACPC,UAAW,GACXC,QAAS,GACTrP,QAAS,K,qBCCX,eAAUsP,GAAKC,IAAIC,IAAOD,IAAI,IAAQE,MAAM,S,kCCP5C,W","file":"js/app.15f97516.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=68391e96&lang=scss&scoped=true\"","<template>\n  <router-view />\n</template>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=c40c8cc0\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=c40c8cc0&lang=scss\"\n\nimport exportComponent from \"D:\\\\WebProject\\\\PixiJS\\\\treasure_hunter\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-68391e96\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"index flex flex-column\" }\nconst _hoisted_2 = {\n  class: \"game-container flex-center\",\n  ref: \"container\"\n}\nconst _hoisted_3 = {\n  class: \"control relative\",\n  ref: \"control\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_GameComponents = _resolveComponent(\"GameComponents\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_GameComponents, { ref: \"game\" }, null, 512)\n    ], 512),\n    _createElementVNode(\"div\", _hoisted_3, null, 512)\n  ]))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"game\",\n  ref: \"game\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"canvas\", _hoisted_1, null, 512))\n}","export interface AdaptationELement {\n  width: number;\n  height: number;\n}\n\n/**\n * 计算容器和目标元素之间的适配比例以尽量撑满整个容器\n */\nexport class Adaptation {\n  /**\n   * 容器\n   */\n  container: AdaptationELement;\n  /**\n   * 目标元素\n   */\n  target: AdaptationELement;\n\n  /**\n   * 容器宽高比\n   */\n  cr: number;\n  /**\n   * 目标元素宽高比\n   */\n  tr: number;\n\n  /**\n   * 目标元素宽度缩放比例\n   */\n  trw: number;\n\n  /**\n   * 目标元素高度缩放比例\n   */\n  trh: number;\n  /**\n   * 计算容器和目标元素之间的适配比例以尽量撑满整个容器\n   * @param container 容器\n   * @param target 目标元素\n   */\n  constructor(container: AdaptationELement, target: AdaptationELement) {\n    this.container = container;\n    this.target = target;\n    this.cr = this.container.width / this.container.height;\n    this.tr = this.target.width / this.target.height;\n    this.trw = this.container.width / this.target.width;\n    this.trh = this.container.height / this.target.height;\n  }\n}\n","// export class Adaptation {\n//   constructor() {\n\n//   }\n// }\n/**\n * 生成一个从 `start` 到 `end` 的递增数字数组\n * @param start\n * @param end\n * @returns\n */\nexport function genArr(start: number, end: number): number[] {\n  return Array.from(new Array(end + 1).keys()).slice(start);\n}\n\n/**\n * 在某个数字区间内取随机数\n * @param maxNum 最大值\n * @param minNum 最小值\n * @param decimalNum 几位小数\n * @returns\n */\nexport function randomNum(\n  maxNum: number,\n  minNum: number,\n  decimalNum?: number\n): number {\n  let max = 0,\n    min = 0;\n  minNum <= maxNum\n    ? ((min = minNum), (max = maxNum))\n    : ((min = maxNum), (max = minNum));\n  switch (arguments.length) {\n    case 1:\n      return Math.floor(Math.random() * (max + 1));\n    case 2:\n      return Math.floor(Math.random() * (max - min + 1) + min);\n    case 3:\n      return parseFloat(\n        (Math.random() * (max - min) + min).toFixed(decimalNum)\n      );\n    default:\n      return Math.random();\n  }\n}\n","import * as PIXI from \"pixi.js\";\nimport {\n  SpriteNames,\n  StageConfig,\n  AssetsItem,\n  ContainLimit,\n} from \"@/config/game\";\nimport { Adaptation } from \"@/scripts/adaptation\";\nimport { genArr, randomNum } from \"@/utils\";\nimport gsap from \"gsap\";\n\nexport interface GameConfig extends StageConfig {\n  resource: PIXI.utils.Dict<PIXI.LoaderResource>;\n  assets: Assets;\n  spriteNames: SpriteNames;\n  monsterNum: number;\n}\n\nexport interface Assets {\n  main: AssetsItem;\n}\n\nexport interface MonsterInfo {\n  /**\n   * 怪物集合\n   */\n  list: Monster[];\n  /**\n   * 水平间隔\n   */\n  spacing: number;\n  /**\n   * 开始的位移\n   */\n  xOffset: number;\n  /**\n   * 怪物数量\n   */\n  monsterNum: number;\n  /**\n   * 怪物的移动速度\n   */\n  speed: number;\n  /**\n   * 怪物的移动方向\n   */\n  direction: number;\n  /**\n   * 攻击力范围\n   */\n  attackPower: number[];\n  /**\n   * 攻击间隔 毫秒\n   */\n  attackInterval: number;\n}\n\nexport interface PlayerInfo {\n  target?: Player;\n  offsetX: number;\n  offsetY: number;\n  speed: number;\n  health: number;\n  curHealth: number;\n  beingAttacked: boolean;\n  die: boolean;\n}\n\nexport interface TreasureInfo {\n  target?: Treasure;\n  hit: boolean;\n}\n\nexport interface HealthBar {\n  container: PIXI.Container;\n  grapBar: PIXI.Graphics;\n  timeline: gsap.core.Timeline | null;\n}\n\nexport interface Message {\n  full?: PIXI.Text;\n  failText: string;\n  victoryText: string;\n}\n\n/**\n * 游戏主类\n */\nexport class Game {\n  app: PIXI.Application;\n  adap: Adaptation | null = null;\n  /**\n   * canvas DOM对象\n   */\n  ref: HTMLCanvasElement;\n  /**\n   * 资源\n   */\n  assets: Assets;\n  /**\n   * 资源名称\n   */\n  spriteNames: SpriteNames;\n  /**\n   * 资源缓存\n   */\n  resource: PIXI.utils.Dict<PIXI.LoaderResource>;\n  /**\n   * 游戏场景容器\n   */\n  gameScene = new PIXI.Container();\n  /**\n   * 游戏UI容器\n   */\n  gameUIScene = new PIXI.Container();\n\n  /**\n   * 游戏消息容器\n   */\n  gameMessage = new PIXI.Container();\n  /**\n   * 地牢\n   */\n  dungeon: PIXI.Sprite;\n\n  mainTextures: {\n    [name: string]: PIXI.Texture<PIXI.Resource>;\n  };\n\n  /**\n   * 游戏怪物信息\n   */\n  monster: MonsterInfo = {\n    list: [],\n    spacing: 48,\n    xOffset: 150,\n    monsterNum: 6,\n    speed: 4,\n    direction: 1,\n    attackPower: [20, 50],\n    attackInterval: 500,\n  };\n\n  /**\n   * 血条\n   */\n  healthBar: HealthBar = {\n    container: new PIXI.Container(),\n    grapBar: new PIXI.Graphics(),\n    timeline: null,\n  };\n\n  /**\n   * 游戏消息\n   */\n  messages: Message = {\n    full: undefined,\n    failText: \"GAME OVER!\",\n    victoryText: \"Victory!\",\n  };\n\n  player: PlayerInfo = {\n    target: undefined,\n    offsetX: 0,\n    offsetY: 0,\n    speed: 2,\n    health: 100,\n    curHealth: 100,\n    beingAttacked: false,\n    die: false,\n  };\n\n  /**\n   * 出口\n   */\n  door: Door;\n  /**\n   * 宝箱\n   */\n  treasure: TreasureInfo = {\n    target: undefined,\n    hit: false,\n  };\n\n  /**\n   * 墙的厚度\n   */\n  wallThickness = 30;\n\n  contain: ContainLimit;\n\n  /**\n   * 移动摇杆\n   */\n  joystickStart = false;\n\n  victory = false;\n  gameFail = false;\n\n  constructor(ref: HTMLCanvasElement, cfg: GameConfig) {\n    this.ref = ref;\n    this.app = new PIXI.Application({ ...cfg, view: ref });\n    this.assets = cfg.assets;\n    this.resource = cfg.resource;\n    this.spriteNames = cfg.spriteNames;\n    this.monster.monsterNum = cfg.monsterNum;\n    this.contain = cfg.contain;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.mainTextures = this.resource[this.assets.main.name].textures!;\n    /**\n     * 创建地牢\n     */\n    this.dungeon = new PIXI.Sprite(this.mainTextures[this.spriteNames.dungeon]);\n    this.door = new Door({\n      textures: this.mainTextures[this.spriteNames.door],\n      id: 0,\n    });\n    this.door.sprite.position.set(this.wallThickness, 0);\n\n    this.treasure.target = new Treasure({\n      textures: this.mainTextures[this.spriteNames.treasure],\n      id: 0,\n    });\n\n    this.treasure.target.sprite.position.set(\n      this.app.view.width -\n        this.treasure.target.sprite.width -\n        this.wallThickness,\n      this.app.view.height / 2 - this.treasure.target.sprite.height / 2\n    );\n\n    this.app.stage.addChild(this.gameScene);\n    this.app.stage.addChild(this.gameUIScene);\n    this.gameScene.addChild(this.dungeon);\n    this.gameScene.addChild(this.door.sprite);\n    this.gameScene.addChild(this.treasure.target.sprite);\n    this.gameUIScene.addChild(this.gameMessage);\n\n    this.createMonster(this.mainTextures[this.spriteNames.blob]);\n    this.createHealthBar();\n    this.createMessage(this.messages.victoryText);\n    this.createPlayer(this.mainTextures[this.spriteNames.explorer]);\n\n    this.app.ticker.add((delta) => this.ticker(delta));\n  }\n\n  /**\n   * 生成怪物\n   * @param textures 怪物的 `textures`\n   * @returns\n   */\n  private createMonster(textures: PIXI.Texture<PIXI.Resource>) {\n    for (const i of genArr(0, this.monster.monsterNum)) {\n      const vy = randomNum(0, 1);\n      const monster = new Monster({\n        textures,\n        id: i,\n        vy: this.monster.speed * this.monster.direction * (vy ? -1 : 1),\n      });\n      const x =\n        this.monster.spacing * i + this.monster.xOffset - this.wallThickness;\n      const y = randomNum(\n        this.wallThickness,\n        this.app.stage.height - monster.sprite.height - this.wallThickness\n      );\n      monster.move(x, y);\n      this.monster.list.push(monster);\n      this.gameScene.addChild(monster.sprite);\n    }\n    return this.monster;\n  }\n\n  /**\n   * 创建血条\n   */\n  private createHealthBar() {\n    this.healthBar.container.position.set(this.app.stage.width - 100, 10);\n    this.gameUIScene.addChild(this.healthBar.container);\n\n    /**\n     * 黑色矩形背景\n     */\n    const innerBar = new PIXI.Graphics();\n    innerBar.beginFill(0x000000);\n    innerBar.drawRect(0, 0, 128, 8);\n    innerBar.endFill();\n    this.healthBar.container.addChild(innerBar);\n\n    /**\n     * 红色矩形\n     */\n    this.healthBar.grapBar = new PIXI.Graphics();\n    this.healthBar.grapBar.beginFill(0xff3300);\n    this.healthBar.grapBar.drawRect(0, 0, 128, 8);\n    this.healthBar.grapBar.endFill();\n    this.healthBar.container.addChild(this.healthBar.grapBar);\n    this.healthBar.container.pivot.set(\n      this.healthBar.container.width / 2,\n      this.healthBar.container.height / 2\n    );\n\n    return this.healthBar;\n  }\n\n  /**\n   * 创建游戏信息\n   */\n  private createMessage(text: string) {\n    if (!this.messages.full) {\n      const style = new PIXI.TextStyle({\n        fontFamily: \"Futura\",\n        fontSize: 64,\n        fill: \"white\",\n      });\n      this.messages.full = new PIXI.Text(text, style);\n      this.messages.full.visible = false;\n      this.gameMessage.addChild(this.messages.full);\n    } else {\n      this.messages.full.text = text;\n    }\n\n    this.messages.full.anchor.set(0.5);\n    this.messages.full.x = this.app.stage.width / 2;\n    this.messages.full.y = this.app.stage.height / 2;\n  }\n\n  /**\n   * 创建玩家\n   * @param textures\n   */\n  private createPlayer(textures: PIXI.Texture<PIXI.Resource>) {\n    this.player.target = new Player({ textures, id: 0 });\n    this.player.target.sprite.position.set(\n      this.wallThickness,\n      this.app.view.height / 2 - this.player.target.sprite.height / 2\n    );\n    this.gameScene.addChild(this.player.target.sprite);\n  }\n\n  /**\n   * 移动怪物\n   */\n  private monsterMove() {\n    this.monster.list.forEach((monster) => {\n      monster.sprite.y += monster.vy;\n      const blobHitsWall = contain(monster.sprite, this.contain);\n\n      if (blobHitsWall === Contain.top || blobHitsWall === Contain.bottom) {\n        monster.vy *= -1;\n      }\n\n      /**\n       * 碰撞检测\n       */\n      if (\n        this.player.target &&\n        hitTestRectangle(this.player.target, monster) &&\n        !this.player.beingAttacked &&\n        !this.player.die\n      ) {\n        this.player.beingAttacked = true;\n        this.player.curHealth -= randomNum(\n          this.monster.attackPower[1],\n          this.monster.attackPower[0]\n        );\n        const hr = this.player.curHealth / this.player.health;\n        this.healthBar.grapBar.width = this.healthBar.grapBar.width * hr;\n        this.shakeHealthBar(this.healthBar.container);\n        if (hr < 0) {\n          this.healthBar.grapBar.width = 0;\n          if (this.messages.full) {\n            this.createMessage(this.messages.failText);\n            this.messages.full.visible = true;\n            this.player.target.sprite.visible = false;\n            this.player.die = true;\n            this.gameFail = true;\n          }\n        }\n\n        setTimeout(() => {\n          this.player.beingAttacked = false;\n        }, this.monster.attackInterval);\n      }\n    });\n  }\n\n  private shakeHealthBar(healthBar: PIXI.Container) {\n    if (!this.healthBar.timeline) {\n      this.healthBar.timeline = gsap.timeline();\n      this.healthBar.timeline.to(healthBar, {\n        rotation: (10 * Math.PI) / 180,\n        duration: 0.06,\n        repeat: 1,\n        yoyo: true,\n        onComplete: () => {\n          this.healthBar.timeline = null;\n        },\n      });\n    }\n  }\n\n  setPlayerOffset(\n    offsetX: number,\n    offsetY: number\n  ): { offsetX: number; offsetY: number } {\n    this.player.offsetX = offsetX;\n    this.player.offsetY = offsetY;\n    return { offsetX: this.player.offsetX, offsetY: this.player.offsetY };\n  }\n\n  /**\n   * 移动玩家\n   * @param offsetX x 轴偏移量\n   * @param offsetY y 轴偏移量\n   * @returns\n   */\n  playerMove(offsetX: number, offsetY: number): Player | undefined {\n    if (this.victory || this.gameFail) return;\n    if (this.player.target && this.joystickStart) {\n      const x = this.player.target.sprite.x + offsetX * this.player.speed;\n      const y = this.player.target.sprite.y - offsetY * this.player.speed;\n      const hitsWall = contain(this.player.target.sprite, this.contain);\n      if (\n        hitsWall === Contain.top ||\n        hitsWall === Contain.right ||\n        hitsWall === Contain.bottom ||\n        hitsWall === Contain.left\n      ) {\n        return;\n      }\n      this.player.target.move(x, y);\n      this.checkTreasure();\n      this.checkDoor();\n    }\n    return this.player.target;\n  }\n\n  private checkTreasure() {\n    if (!this.player.target || !this.treasure.target) return;\n    if (this.treasure.hit && !this.player.die) {\n      this.treasure.target.sprite.x = this.player.target.sprite.x;\n      this.treasure.target.sprite.y = this.player.target.sprite.y;\n      return;\n    }\n    if (hitTestRectangle(this.player.target, this.treasure.target)) {\n      this.treasure.hit = true;\n    }\n  }\n  private checkDoor() {\n    if (!this.player.target) return;\n    if (this.treasure.hit && hitTestRectangle(this.player.target, this.door)) {\n      this.createMessage(this.messages.victoryText);\n      if (this.messages.full) this.messages.full.visible = true;\n      this.victory = true;\n    }\n  }\n\n  private ticker(delta: number) {\n    // console.log(delta);\n    this.monsterMove();\n    this.playerMove(this.player.offsetX, this.player.offsetY);\n  }\n\n  /**\n   * 适配容器宽高\n   * @param container 容器\n   * @param target 目标元素\n   * @returns\n   */\n  adaptation(container: HTMLElement): Adaptation {\n    this.adap = new Adaptation(\n      {\n        width: container.offsetWidth,\n        height: container.offsetHeight,\n      },\n      {\n        width: this.ref.offsetWidth,\n        height: this.ref.offsetHeight,\n      }\n    );\n    return this.adap;\n  }\n}\n\nexport class Sprite {\n  sprite: PIXI.Sprite;\n  /**\n   * 对象的唯一标识\n   */\n  id: number;\n\n  centerX = 0;\n  centerY = 0;\n  halfWidth = 0;\n  halfHeight = 0;\n  constructor({\n    textures,\n    id,\n  }: {\n    textures: PIXI.Texture<PIXI.Resource>;\n    id: number;\n  }) {\n    this.sprite = new PIXI.Sprite(textures);\n    this.id = id;\n  }\n\n  /**\n   * 移动\n   * @param x x轴偏移距离\n   * @param y y轴偏移距离\n   * @returns\n   */\n  move(x: number, y: number): Sprite {\n    this.sprite.x = x;\n    this.sprite.y = y;\n    return this;\n  }\n}\n\n/**\n * 怪物\n */\nexport class Monster extends Sprite {\n  vy = 0;\n  constructor({\n    textures,\n    id,\n    vy,\n  }: {\n    textures: PIXI.Texture<PIXI.Resource>;\n    id: number;\n    vy: number;\n  }) {\n    super({ textures, id });\n    this.vy = vy;\n  }\n}\n\n/**\n * 玩家\n */\nexport class Player extends Sprite {\n  constructor({\n    textures,\n    id,\n  }: {\n    textures: PIXI.Texture<PIXI.Resource>;\n    id: number;\n  }) {\n    super({ textures, id });\n  }\n}\n\nexport class Treasure extends Sprite {\n  constructor({\n    textures,\n    id,\n  }: {\n    textures: PIXI.Texture<PIXI.Resource>;\n    id: number;\n  }) {\n    super({ textures, id });\n  }\n}\n\nexport class Door extends Sprite {\n  constructor({\n    textures,\n    id,\n  }: {\n    textures: PIXI.Texture<PIXI.Resource>;\n    id: number;\n  }) {\n    super({ textures, id });\n  }\n}\n\nexport enum Contain {\n  /**\n   * 触碰到左边\n   */\n  left = \"left\",\n  /**\n   * 触碰到上边\n   */\n  top = \"top\",\n  /**\n   * 触碰到右边\n   */\n  right = \"right\",\n  /**\n   * 触碰到下边\n   */\n  bottom = \"bottom\",\n}\n\n/**\n * 边界检测\n * @param sprite\n * @param container\n * @returns\n */\nexport function contain(\n  sprite: PIXI.Sprite,\n  container: { x: number; y: number; width: number; height: number }\n): Contain | undefined {\n  //Left\n  if (sprite.x < container.x) {\n    sprite.x = container.x;\n    return Contain.left;\n  }\n\n  //Top\n  if (sprite.y < container.y) {\n    sprite.y = container.y;\n    return Contain.top;\n  }\n\n  //Right\n  if (sprite.x + sprite.width > container.width) {\n    sprite.x = container.width - sprite.width;\n    return Contain.right;\n  }\n\n  //Bottom\n  if (sprite.y + sprite.height > container.height) {\n    sprite.y = container.height - sprite.height;\n    return Contain.bottom;\n  }\n}\n\nexport function hitTestRectangle(r1: Sprite, r2: Sprite): boolean {\n  //Define the variables we'll need to calculate\n  let hit;\n\n  //hit will determine whether there's a collision\n  hit = false;\n\n  //Find the center points of each sprite\n  r1.centerX = r1.sprite.x + r1.sprite.width / 2;\n  r1.centerY = r1.sprite.y + r1.sprite.height / 2;\n  r2.centerX = r2.sprite.x + r2.sprite.width / 2;\n  r2.centerY = r2.sprite.y + r2.sprite.height / 2;\n\n  //Find the half-widths and half-heights of each sprite\n  r1.halfWidth = r1.sprite.width / 2;\n  r1.halfHeight = r1.sprite.height / 2;\n  r2.halfWidth = r2.sprite.width / 2;\n  r2.halfHeight = r2.sprite.height / 2;\n\n  //Calculate the distance vector between the sprites\n  const vx = r1.centerX - r2.centerX;\n  const vy = r1.centerY - r2.centerY;\n\n  //Figure out the combined half-widths and half-heights\n  const combinedHalfWidths = r1.halfWidth + r2.halfWidth;\n  const combinedHalfHeights = r1.halfHeight + r2.halfHeight;\n\n  //Check for a collision on the x axis\n  if (Math.abs(vx) < combinedHalfWidths) {\n    //A collision might be occurring. Check for a collision on the y axis\n    if (Math.abs(vy) < combinedHalfHeights) {\n      //There's definitely a collision happening\n      hit = true;\n    } else {\n      //There's no collision on the y axis\n      hit = false;\n    }\n  } else {\n    //There's no collision on the x axis\n    hit = false;\n  }\n\n  //`hit` will be either `true` or `false`\n  return hit;\n}\n","export interface StageConfig {\n  width: number;\n  height: number;\n  backgroundColor: number;\n  contain: ContainLimit;\n}\n\nexport interface ContainLimit {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n/**\n * 资源信息\n */\nexport interface AssetsItem {\n  path: string;\n  name: AssetsConfig;\n}\n\nexport interface SpriteNames {\n  dungeon: AssetsConfig;\n  blob: AssetsConfig;\n  explorer: AssetsConfig;\n  treasure: AssetsConfig;\n  door: AssetsConfig;\n}\n\nexport interface GameConfig {\n  /**\n   * 游戏资源信息\n   */\n  assets: {\n    main: AssetsItem;\n  };\n  spriteNames: SpriteNames;\n  /**\n   * 舞台信息\n   */\n  stage: StageConfig;\n}\n\n/**\n * 资源枚举\n */\nexport enum AssetsConfig {\n  /**\n   * 游戏资源名\n   */\n  treasureHunter = \"treasure_hunter\",\n  dungeon = \"dungeon.png\",\n  blob = \"blob.png\",\n  explorer = \"explorer.png\",\n  treasure = \"treasure.png\",\n  door = \"door.png\",\n}\n\n/**\n * 游戏配置信息\n */\nconst GAME: GameConfig = {\n  assets: {\n    main: {\n      path: \"./assets/treasure_hunter.json\",\n      name: AssetsConfig.treasureHunter,\n    },\n  },\n  spriteNames: {\n    dungeon: AssetsConfig.dungeon,\n    blob: AssetsConfig.blob,\n    explorer: AssetsConfig.explorer,\n    treasure: AssetsConfig.treasure,\n    door: AssetsConfig.door,\n  },\n  stage: {\n    width: 512,\n    height: 512,\n    backgroundColor: 0x282c34,\n    contain: {\n      x: 28,\n      y: 10,\n      width: 488,\n      height: 480,\n    },\n  },\n};\n\nexport default GAME;\n","\nimport { Options, Vue } from \"vue-class-component\";\nimport { Game } from \"@/scripts/game\";\nimport GAME from \"../config/game\";\nimport * as PIXI from \"pixi.js\";\n\n@Options({})\nexport default class GameComponent extends Vue {\n  /**\n   * 游戏实例\n   */\n  Game: Game | undefined;\n\n  /**\n   * PIXI DOM容器\n   */\n  private get game(): HTMLCanvasElement {\n    return this.$refs.game as HTMLCanvasElement;\n  }\n\n  /**\n   * 初始化游戏实例\n   */\n  init(loader: PIXI.Loader): Game {\n    this.Game = new Game(this.game, {\n      ...GAME.stage,\n      resource: loader.resources,\n      assets: GAME.assets,\n      spriteNames: GAME.spriteNames,\n      monsterNum: 6,\n    });\n    return this.Game;\n  }\n}\n","import { render } from \"./Game.vue?vue&type=template&id=6acf8b76&ts=true\"\nimport script from \"./Game.vue?vue&type=script&lang=ts\"\nexport * from \"./Game.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\WebProject\\\\PixiJS\\\\treasure_hunter\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { Options, Vue } from \"vue-class-component\";\nimport GameComponents from \"@/components/Game.vue\";\nimport GAME from \"@/config/game\";\nimport * as PIXI from \"pixi.js\";\nimport nipplejs from \"nipplejs\";\n\n@Options({\n  components: {\n    GameComponents,\n  },\n})\nexport default class Index extends Vue {\n  private assets = [GAME.assets.main];\n  private loader = new PIXI.Loader();\n\n  /**\n   * 游戏组件\n   */\n  private get game(): GameComponents {\n    return this.$refs.game as GameComponents;\n  }\n\n  /**\n   * 容器\n   */\n  private get container(): HTMLElement {\n    return this.$refs.container as HTMLElement;\n  }\n\n  /**\n   * 适配\n   */\n  private adaptation() {\n    if (!this.game.Game) return;\n    this.game.Game.adaptation(this.container);\n\n    if (!this.game.Game.adap) return;\n    if (this.game.Game.adap.cr > this.game.Game.adap.tr) {\n      this.game.Game.ref.style.transform = `scale(${this.game.Game.adap.trh})`;\n    } else {\n      this.game.Game.ref.style.transform = `scale(${this.game.Game.adap.trw})`;\n    }\n  }\n\n  private loaderAssets() {\n    return new Promise<PIXI.Loader>((resolve, reject) => {\n      try {\n        this.loader.onComplete.add(resolve);\n        for (const iter of this.assets) {\n          this.loader.add(iter.name, iter.path);\n        }\n        this.loader.load(this.loaderAssetsProgress);\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  private loaderAssetsProgress(load: PIXI.Loader) {\n    console.log(load);\n  }\n\n  /**\n   * 初始化摇杆\n   */\n  private initNipplejs() {\n    const control = nipplejs.create({\n      zone: this.$refs.control as HTMLElement,\n      mode: \"static\",\n      position: { left: \"50%\", top: \"50%\" },\n      color: \"#5f6368\",\n    });\n    control.on(\"move\", (evt, data) => {\n      this.joystickMove(evt, data);\n    });\n    control.on(\"start\", () => {\n      if (this.game.Game) this.game.Game.joystickStart = true;\n    });\n    control.on(\"end\", () => {\n      if (this.game.Game) this.game.Game.joystickStart = false;\n    });\n  }\n\n  private joystickMove(\n    evt: nipplejs.EventData,\n    data: nipplejs.JoystickOutputData\n  ) {\n    const x = Math.cos(data.angle.radian);\n    const y = Math.sin(data.angle.radian);\n    if (this.game.Game) this.game.Game.setPlayerOffset(x, y);\n  }\n\n  mounted(): void {\n    this.loaderAssets().then((load) => {\n      this.game.init(load);\n      this.adaptation();\n      this.initNipplejs();\n    });\n  }\n}\n","import { render } from \"./index.vue?vue&type=template&id=68391e96&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=68391e96&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\WebProject\\\\PixiJS\\\\treasure_hunter\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68391e96\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport Index from \"../views/index.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"Index\",\n    component: Index,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport \"normalize.css\";\nimport \"@/styles/index.scss\";\n\ncreateApp(App).use(store).use(router).mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=c40c8cc0&lang=scss\""],"sourceRoot":""}